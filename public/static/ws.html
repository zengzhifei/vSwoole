<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://page.ctvit.tv/jssdk/interact.ws.js"></script>
</head>
<body>
<script>
    for (let i = 1;i<=10;i++) {
           connectWs(i);     
    }
    function connectWs(i) {
        var ws = new WS("ws://th7.ctvit.tv/ws", {
            onOpen: function (ws) {
                var range_data = {'cmd': 'range', 'data': {'range_id': 'Column15300863025b33439e5be31', 'user_id': i}};
                    ws.send(JSON.stringify(range_data));
                
                var online_data = {'cmd': 'online', 'data': {'range_id': 'Column15300863025b33439e5be31'}};
                setInterval(function () {
                    ws.send(JSON.stringify(online_data));
                },10000);

            },
            onMessage: function (ws, data) {
                var data = JSON.parse(data);
                console.log(data);
            }
        });
    }
    
</script>
</body>
</html>